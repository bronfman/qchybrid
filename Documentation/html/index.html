<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QuickConnectFamily Hybrid API: QuickConnectFamily Hybrid</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mediumQC-1.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuickConnectFamily Hybrid API&#160;<span id="projectnumber">2.1</span></div>
   <div id="projectbrief">Documentation for the JavaScript used in creating QC Family Hybrid Applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">QuickConnectFamily Hybrid </div>  </div>
</div>
<div class="contents">
<div class="textblock"><div style="padding-left:30px"> </div><h2><a class="anchor" id="intro_sec"></a>
QuickConnectFamily Hybrid Introduction</h2>
<div style="padding-left:30px">QCFamily Hybrid is a full framework not a library. Like other full frameworks it has done most of the design and coding work for you. You need only create the functionallity that you desire for your applications. <br/>
QCFamily Hybrid allows you to write your application in HTML, CSS, and JavaScript. Use the HTML and CSS to create the user interface and JavaScript to implement the logic. Use the web skills you already have to get your idea to market quickly. <br/>
<br/>
When you want to learn more about native Objective-C iOS or Android Java development take a look at the source code available from sourceForge to find a whole series of 'how to' code sets in the QCFamily Hybrid framework. The source is open and liberally licensed (BSD license). <hr/>
<br/>
<br/>
 </div><h2><a class="anchor" id="downloading_sec"></a>
Downloading QuickConnectFamily Hybrid</h2>
<div style="padding-left:30px"> <div style="padding-left:30px"> Download QCFamily Hybrid from <a href="https://sourceforge.net/projects/quickconnect/">the sourceForge site</a>. The QCFamily Hybrid download includes numerous examples for iOS and Android developers. Look in the downloaded file for these. Well over 30 examples are included on how to use specific QCFamily Hybrid functionalities. </div> <hr/>
<br/>
<br/>
</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="create_iOS_project_sec"></a>
Creating an QCF Hybrid application for iOS using Xcode</h2>
<div style="padding-left:30px">Do the following steps <b>OR</b> copy and existing example project. </div><h3><a class="anchor" id="oc_step1"></a>
Step 1: Use Xcode to create a new iOS application from one of the standard templates.</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="oc_step2"></a>
Step 2: Drag the contents of the QC Hybrid directory into the project.  Copy them in.</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="oc_step3"></a>
Step 3: Add in the following standard frameworks:</h3>
<div style="padding-left:30px"> <ul>
<li>Accelerate </li>
<li>AddressBook </li>
<li>AddressBookUI </li>
<li>AudioToolbox </li>
<li>AVFoundation </li>
<li>CoreLocation </li>
<li>GameKit </li>
<li>iAd </li>
<li>libsqlite3.dylib </li>
<li>MapKit </li>
<li>MediaPlayer </li>
<li>MessageUI </li>
<li>StoreKit </li>
<li>SystemConfiguration </li>
</ul>
</div><h3><a class="anchor" id="oc_step4"></a>
Step 4: Add the following files to the 'Copy Bundle Resources' list if they aren't already there</h3>
<div style="padding-left:30px"> <ul>
<li>index.html </li>
<li>main.css </li>
<li><a class="el" href="main_8js.html" title="The main.js file is where you create any custom functions for your application. Event listener functi...">main.js</a> </li>
<li><a class="el" href="mappings_8js.html" title="The mappings.js file is where you create the stacks for your application&#39;s behavior as described on t...">mappings.js</a> </li>
<li><a class="el" href="functions_8js.html" title="The functions.js file is where you define the Validation, Business, View, and Error Control Functions...">functions.js</a> </li>
<li><a class="el" href="database_definition_8js.html" title="The databaseDefinition.js file is where you define the databases your application uses...">databaseDefinition.js</a> </li>
</ul>
</div><h3><a class="anchor" id="oc_step5"></a>
Step 5: In your application delegate header file (.h file) Change NSObject to QuickConnectViewController in the inheritance declaration</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="oc_step6"></a>
Step 6: Add this line of code to the application:didFinishLaunchingWithOptions method of your application delegate</h3>
<div style="padding-left:30px"> <ul>
<li>[self addWebViewToWindow:self.window]; </li>
</ul>
</div><h3><a class="anchor" id="oc_step7"></a>
Step 7: Modify the index.html, main.css, and the JavaScript files to create the logic for your app</h3>
<div style="padding-left:30px"> <hr/>
<br/>
<br/>
</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="create_iOS_xcode_project_sec"></a>
Creating an QCF Hybrid application for iOS and Android using Xcode</h2>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="oc_andr_step1"></a>
Step 1: Under development now</h3>
<div style="padding-left:30px"><hr/>
<br/>
<br/>
</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="create_android_project_sec"></a>
Creating an QCF Hybrid application for Android using MotoDev</h2>
<div style="padding-left:30px"> Do the following steps <b>OR</b> copy an existing example project.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step1"></a>
Step 1: Use MotoDev or eclipse to create a new Android application using the Google APIs</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step2"></a>
Step 2: Add the contents of the libs directory to your application's Build Path</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step3"></a>
Step 3: Add maps.jar to the build path of your application for the API level of your application.  It can be found at &lt;Android SDK Installation&gt;/add=ons/addon_google_apis_google_inc_&lt;API level&gt;/libs</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step4"></a>
Step 4: In the build path editor select the Export tab and select all of the jar files from the libs directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step5"></a>
Step 5: Copy the contents of the Web Files directory into your application's assets directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step6"></a>
Step 6: Replace your application's res -&gt; layout -&gt; main.xml file with the main.xml file in the QC Hybrid XML directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step7"></a>
Step 7: Drag balloon_overlay.xml into your application's res -&gt; layout directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step8"></a>
Step 8: Replace the contents of your application's AndroidManifest.xml file with the contents of the AndroidManifest.xml file in the XML Files directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step9"></a>
Step 9: Drag the raw directory into the res directory of your application</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step10"></a>
Step 10: Drag the drawable directory into your application's res directory</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step11"></a>
Step 11: Change the Activity of your Application to extends QCAndroid</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step12"></a>
Step 12: Import the R class in your application's Activity Class.</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step13"></a>
Step 13: Replace splash.png in the drawable directory with a background image of your choice.</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step14"></a>
Step 14: Clean the project</h3>
<div style="padding-left:30px"> </div><h3><a class="anchor" id="andr_step15"></a>
Step 15: Modify the index.html, main.css, and the JavaScript files to create the logic for your app</h3>
<div style="padding-left:30px"> <hr/>
<br/>
<br/>
</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="using_framework"></a>
Using the Framework: First ideas</h2>
<div style="padding-left:30px"> If you want to take advantage of QCFamily Hybrid's built-in library of functionality there are two major components of QC applications that you need to understand to take full advantage of the framework, stacks and control functions.</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="stacks"></a>
Stacks: Laying out the application flow</h2>
<div style="padding-left:30px"> Stacks consist of a series of control functions (discussed below) that map out a set of specific, sequential actions that you want your application to execute. Each stack is created by mapping the individual control functions for the stack to a unique command string you can use later to refer to the stack as a whole. </div><h3><a class="anchor" id="stack_example"></a>
Example: A stack design</h3>
<div style="padding-left:30px"> Imagine that you need to require your user to login using a user name and password. You might choose 'login' for the unique command string to represent the sequence of steps. Generally with a login attempt you would want to validate the user name and password, attempt to login using this information, store something regarding the user (often this is a unique identifier of some sort), and then display some new set of behaviors available for that user. In the case of a failed login attempt your applications would usually indicate to the user that login failed. </div><div style="padding-left:30px"> The image below is a graphical description of this desired behavior. The string 'login' has been selected as the command. The success stack is seen on the left and the error handling is shown on the right.</div><div style="padding-left:30px"> <div class="image">
<img src="/Users/lee/QC_Git_Repos/quickconnect/StackDesignExample.png" alt="StackDesignExample.png"/>
</div>
<p>  Choosing a descriptive command for the behavior scenario, deciding the discrete steps for this scenario, and deciding when and how to handle errors for the scenario are how QC Family applications are designed. </div><h2><a class="anchor" id="control_functions"></a>
Control Functions: Discrete stack actions</h2>
<div style="padding-left:30px"> Each of the discrete desired behaviors described in the design of a stack are known as control functions in QC applications. To cover the types of behavior found in all modern applications QC application control functions come in four distinct types each with a specific responsibility.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="valcf_subsec"></a>
Validation Control Function: ValCF</h3>
<div style="padding-left:30px"> ValCF's are used to validate information supplied to the application by the user.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="bcf_subsec"></a>
Business Control Function: BCF</h3>
<div style="padding-left:30px"> BCF's obtain, send, or manipulate data. They may obtain data from a local database, a remote web application or service, send data to such and application or service, or perform a calculation on data it is passed.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="vcf_subsec"></a>
View Control Function: VCF</h3>
<div style="padding-left:30px"> VCF's update the display. Usually after data is sent, received, or calculated the user needs to be notified. View Control Functions update the screen for the user. This may be as simple as turning on a hidden string or as complicated as animating the display of an entirely new view for the user.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="ecf_subsec"></a>
Error Control Function: ECF</h3>
<div style="padding-left:30px"> ECF's handle cleaning up when an error has happened. This usually includes resetting variables, resetting view components, and displaying error messages.</div><div style="padding-left:30px"> </div><div style="padding-left:30px"> The image below reworks the design created earlier replacing the desired steps with names for the control function for each step.</div><div style="padding-left:30px"> <div class="image">
<img src="/Users/lee/QC_Git_Repos/quickconnect/StackDesignControlFunctionsExample.png" alt="StackDesignControlFunctionsExample.png"/>
</div>
 </div><div style="padding-left:30px"></div><div style="padding-left:30px"> As you can see from the image above each control function is intended to be a module. This means that it does one thing, does it well, and is complete. Being modular one control function should never call another control function directly since then un-needed dependencies would be created between them. The framework will call all of the control functions for your application.</div><div style="padding-left:30px"> </div><h2><a class="anchor" id="mapping"></a>
Building Stacks: Mapping commands to control functions</h2>
<div style="padding-left:30px"> Stacks, as seen above, consist of a series of control functions associated with a unique command. The QCFamily Hybrid framework provides a series of functions to make this easy. These are the qc.mapCommandTo***(aCommand, aControlFunction) functions found in the <a class="el" href="_q_c_utilities_8js.html" title="The QCUtilities.js file contains a series of helper functions for you to use in creating your QCFamil...">QCUtilities.js</a> file. Each type of controle function has a matching mapCommandTo***(aCommand, aControlFunction) function. </p>
<ul>
<li>ValCF -&gt; qc.mapCommandToValCF(aCommand, aValidationControlFunction) </li>
<li>BCF -&gt; qc.mapCommandToBCF(aCommand, aBusinessControlFunction) </li>
<li>VCF -&gt; qc.mapCommandToVCF(aCommand, aViewControlFunction) </li>
<li>ECF -&gt; qc.mapCommandToECF(aCommand, anErrorControlFunction)</li>
</ul>
<p>Calls to these mappCommandTo***(aCommand, aValidationControlFunction) functions are always made in the <a class="el" href="mappings_8js.html" title="The mappings.js file is where you create the stacks for your application&#39;s behavior as described on t...">mappings.js</a> file to ensure they are executed after the control functions have been loaded.</div><div style="padding-left:30px"> </div><h3><a class="anchor" id="mapping_example"></a>
Example: The login mappings</h3>
<div style="padding-left:30px"> </div><div style="padding-left:30px">The code in the <a class="el" href="mappings_8js.html" title="The mappings.js file is where you create the stacks for your application&#39;s behavior as described on t...">mappings.js</a> file for the login example designed above is shown here. </p>
<div class="image">
<img src="/Users/lee/QC_Git_Repos/quickconnect/mapping.png" alt="mapping.png"/>
</div>
  </div><div style="padding-left:30px"> Mappings of stacks also give you as an application developer one place to go to see the flow of your application. No more do you need to dig deeper and deeper into the code to find out what it does. If the stack is designed well this information is obvious in the mapping of the stack.  </div><div style="padding-left:30px"> Another nice benefit is discovered when doing debugging. If there is a defect in a control function it is in the control function not in any of the others in the stack. Since the control functions are small and modular debugging becomes much easier. </div><div style="padding-left:30px"> </div><h2><a class="anchor" id="creating_CFs"></a>
Creating Control Functions: The behavior code</h2>
<div style="padding-left:30px"> Each control function that is mapped in the <a class="el" href="mappings_8js.html" title="The mappings.js file is where you create the stacks for your application&#39;s behavior as described on t...">mappings.js</a> file is defined in the <a class="el" href="functions_8js.html" title="The functions.js file is where you define the Validation, Business, View, and Error Control Functions...">functions.js</a> file to ensure proper handling of loading dependencies. The image below shows an example of how the functions mapped in the example might be defined. Each of these control functions returns one of four values. </p>
<ul>
<li>qc.STACK_CONTINUE - This instructs the framework to execute the next control function in the stack. </li>
<li>qc.STACK_EXIT - This instructs the framework to terminate all further stack execution. </li>
<li>qc.WAIT_FOR_DATA - This instructs the framework that a call to database or remote data has been made or a call to device specific behavior such as showing a map. </li>
<li>any calculated data - If your BCF calculates data and that data is needed later in the stack return the value from the BCF function. The returned data will be sent by the framework to the remaining control functions in the stack. <div class="image">
<img src="/Users/lee/QC_Git_Repos/quickconnect/controlFunctions.png" alt="controlFunctions.png"/>
</div>
</li>
</ul>
</div><h2><a class="anchor" id="handleRequest"></a>
Executing a Stack: The trigger for behavior</h2>
<div style="padding-left:30px"> QC includes two functions to allow you to easily execute any stack you have already mapped and defined. qc.handleRequest(aCommand, requestParameters) is used to execute standard stacks. qc.handleError(aCommand, errorParameters) is used to execute error stacks as you have seen in the code example above. They can both be found in the <a class="el" href="_quick_connect_8js.html" title="The QC file contains the two stack trigger functions.">QuickConnect.js</a> file.</div><div style="padding-left:30px"> qc.handleRequest can be called directly from the HTML of you application if no parameters are needed but it is often called from within an onclick or other event listener. The example code below assumes that there is an HTML input of type button with its onclick listener set to 'loginFunc()'. The listener function accumulates everything the stack needs to do its work and then calls qc.handleRequest. </div><div style="padding-left:30px"> The code here shows an example. It collects the needed values and calls qc.handleRequest. </p>
<div class="image">
<img src="/Users/lee/QC_Git_Repos/quickconnect/trigger.png" alt="trigger.png"/>
</div>
<p>  Assign the loginFunc function as the onclick listener for a button and the example is complete.</div><div style="padding-left:30px"><hr/>
<br/>
<br/>
</div><div style="padding-left:30px"> The QuickConnectFamily of tools has been a great deal of fun to create. QCFamily Hybrid is only one of these. I hope you will take time to look at some of the others at <a href="http://www.quickconnectfamily.org ">www.quickconnectfamily.org</a></div><div style="padding-left:30px"> <h6>&copy; 2011 Lee Barney</h6>
</div><div style="padding-left:30px"></div><div style="padding-left:30px"> </div> </div></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Aug 27 2011 16:46:13 for QuickConnectFamily Hybrid API by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
